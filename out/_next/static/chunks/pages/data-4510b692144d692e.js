(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81],{2374:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data",function(){return t(5911)}])},5911:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return C}});var r=t(5893),i=t(7294),o=t(2293),a=t(3156),c=t(5861),s=t(7357);t(1664);function d(e){var n=e.children,t=e.pageTitle,d=(0,i.useState)(!1);d[0],d[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{children:(0,r.jsx)(a.Z,{sx:{display:"flex",alignItems:"center",paddingTop:"0.3rem",paddingBottom:"0.3rem"},children:(0,r.jsx)(c.Z,{variant:"h6",component:"div",sx:{flexGrow:1},children:t})})}),(0,r.jsx)(s.Z,{children:n})]})}var u=t(8),l=t(6433),f=t(9630),h=t(1498),m=t(9929),p=t(1265),x=t(1927),g=t(6447),v=t(3321),j=t(3162),w=t(4295),y=(0,p.Z)(u._);function N(e){var n=e.gridHeader;return(0,r.jsx)(s.Z,{sx:{p:1},children:(0,r.jsxs)(g.Z,{direction:"row-reverse",justifyContent:"space-between",alignItems:"center",spacing:2,children:[(0,r.jsx)(l.T,{}),(0,r.jsx)(c.Z,{variant:"h5",gutterBottom:!0,component:"div",children:n})]})})}function b(e){var n=e.excelFileName,t=(0,f.l)();return(0,r.jsx)(s.Z,{sx:{p:1},children:(0,r.jsx)(g.Z,{direction:"row-reverse",justifyContent:"space-between",alignItems:"center",spacing:2,children:(0,r.jsxs)(v.Z,{onClick:function(){var e=new w.Workbook,r=e.addWorksheet("sheet"),i=t.current.getAllColumns().map((function(e){return{header:e.headerName,key:e.field,width:Z(e.flex)}}));r.columns=i,Array.from(t.current.getVisibleRowModels()).map((function(e){r.addRow(e[1])}));var o=n+".xlsx";e.xlsx.writeBuffer().then((function(e){var n=new Blob([e],{type:"applicationi/xlsx"});(0,j.saveAs)(n,o)}))},children:[(0,r.jsx)(m.Z,{})," excel"]})})})}function T(e){var n=e.rows,t=e.columns,i=e.title,o=e.height;return(0,r.jsx)(s.Z,{sx:{width:"100%",height:o},children:(0,r.jsx)(x.Z,{theme:y,children:(0,r.jsx)(h._,{rows:n,columns:t,components:{Toolbar:N,Footer:b},density:"compact",componentsProps:{toolbar:{showQuickFilter:!0,gridHeader:i},footer:{excelFileName:i}}})})})}function Z(e){var n=20*e;return console.log(n),n}var _=t(381),k=t.n(_),O=t(7992);function C(){var e=(0,i.useState)([]),n=e[0],t=e[1];(0,i.useEffect)((function(){O.findAll().then((function(e){var n=e.map((function(e){return{id:e.id,rut:e.rut,name:e.name,gender:e.gender,age:E(e.born),phone:e.phone,mail:e.mail}}));t(n)})).catch((function(e){console.log(e)}))}),[]);return(0,r.jsx)(d,{pageTitle:"Oficina Municipal de la Juventud",children:(0,r.jsx)(T,{title:"Jovenes",rows:n,columns:[{field:"id",headerName:"Id",flex:.5,type:"number"},{field:"rut",headerName:"Rut",flex:1},{field:"name",headerName:"Nombre",flex:2.5},{field:"gender",headerName:"Genero",flex:1},{field:"age",headerName:"Edad",flex:.5,type:"number"},{field:"phone",headerName:"Tel\xe9fono",flex:1},{field:"mail",headerName:"Mail",flex:1.5}],height:"30rem"})})}function E(e){return e=k()(e),k()().diff(e,"years")}},7992:function(e,n,t){"use strict";t.r(n),t.d(n,{create:function(){return i},findAll:function(){return o},findOneByRut:function(){return a}});var r="https://joven.karmika.cl/";function i(e,n,t,i,o,a){var c={rut:e,name:n,phone:t,mail:i,gender:o,born:a};return new Promise((function(e,n){fetch(r+"persons/create",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((function(t){t.json().then((function(t){0===t.code?n(t.data):e(t.data)}))})).catch((function(e){n(e)}))}))}function o(){return new Promise((function(e,n){fetch(r+"persons/findAll",{method:"GET",body:JSON.stringify(),headers:{"Content-Type":"application/json"}}).then((function(t){t.json().then((function(t){0===t.code?n(t.data):e(t.data)}))})).catch((function(e){n(e)}))}))}function a(e){var n={rut:e};return new Promise((function(e,t){fetch(r+"persons/findOneByRut",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(n){n.json().then((function(n){0===n.code?t(n.data):e(n.data)}))})).catch((function(e){t(e)}))}))}}},function(e){e.O(0,[869,202,930,897,774,888,179],(function(){return n=2374,e(e.s=n);var n}));var n=e.O();_N_E=n}]);