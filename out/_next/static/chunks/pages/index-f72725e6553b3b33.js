(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(3678)}])},2905:function(e,n,r){"use strict";r.d(n,{Z:function(){return m}});var t=r(5893),i=r(2293),a=r(6886),o=r(7357),c=r(5675),s=r.n(c),l=r(7294),u=r(1627),d=r.n(u),h=function(e){var n=e.src;return"https://joven.karmika.cl/images/".concat(n)};function m(e){var n=e.children,r=(0,l.useState)(!1);r[0],r[1];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Z,{sx:{display:"flex",alignItems:"end",height:"8rem"},className:d().bar,children:(0,t.jsx)(a.ZP,{children:(0,t.jsx)(a.ZP,{item:!0,children:(0,t.jsx)(s(),{loader:h,src:"logo.png",layout:"fill",objectFit:"contain"})})})}),(0,t.jsx)(o.Z,{sx:{alignItems:"center",paddingTop:"5rem"},className:d().children,children:n})]})}},3678:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return T}});var t=r(4924),i=r(6042),a=r(9396),o=r(5893),c=r(6886),s=r(5861),l=r(135),u=r(4054),d=r(3841),h=r(5945),m=r(5819),x=r(6815),f=r(480),j=r(9368),Z=r(3321),g=r(657),p=r(6580),v=r(9661),b=r(7294),k=r(5177),P=r(2905),_=r(5675),y=r.n(_),z=r(381),S=r.n(z),C=r(1313),F=r(7992),O=function(e){var n=e.src;return"https://joven.karmika.cl/images/".concat(n)};function T(){var e=(0,b.useState)(!1),n=e[0],r=e[1],_=(0,b.useState)({rut:"",name:"",phone:"",mail:"",gender:"",born:S()().format("YYYY-MM-DD")}),z=_[0],T=_[1],Y=(0,b.useState)({name:{err:!1,text:""},rut:{err:!1,text:""},phone:{err:!1,text:""},mail:{err:!1,text:""},gender:{err:!1,text:""},born:{err:!1,text:""},check:{err:!1,text:""},check2:{err:!1,text:""}}),M=Y[0],w=Y[1],B=(0,b.useState)(!1),D=B[0],E=B[1],J=(0,b.useState)(!1),$=J[0],R=J[1],W=function(e){T((0,a.Z)((0,i.Z)({},z),(0,t.Z)({},e.target.name,e.target.value)))},I=function(){var e=N(z.name),n=N(z.rut),r=N(z.gender),t=N(z.phone),o=function(e){var n=/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/g,r=null==e.match(n);return{err:r,text:!0===r?"Debe ingresar correo electr\xf3nico v\xe1lido":""}}(z.mail),c=0==D,s=!0===c?"Debe seleccionar la casilla":"",l=0==$,u=!0===l?"Debe seleccionar la casilla":"",d=0==[e.err,n.err,r.err,t.err,o.err,c,l].filter((function(e){return 1==e})).length;return w((0,a.Z)((0,i.Z)({},M),{name:{err:e.err,text:e.text},rut:{err:n.err,text:n.text},gender:{err:r.err,text:r.text},phone:{err:t.err,text:t.text},mail:{err:o.err,text:o.text},check:{err:c,text:s},check2:{err:l,text:u}})),d},q=function(e){w((0,a.Z)((0,i.Z)({},M),(0,t.Z)({},e.target.name,{err:!1,text:""})))};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(P.Z,{children:(0,o.jsxs)(c.ZP,{container:!0,children:[(0,o.jsx)(c.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,o.jsx)(s.Z,{gutterBottom:!0,sx:{fontSize:"1rem"},children:"Registro -  Oficina Municipal de la Juventud"})}),(0,o.jsx)(c.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,o.jsx)(l.Z,{label:"Nombre",name:"name",error:M.name.err,value:z.name,onChange:W,variant:"outlined",size:"small",onFocus:q,helperText:M.name.text,fullWidth:!0})}),(0,o.jsx)(c.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,o.jsx)(l.Z,{label:"Rut",name:"rut",value:z.rut,onChange:function(e){e.target.value=C.formatRut(e.target.value),W(e)},variant:"outlined",size:"small",onFocus:q,error:M.rut.err,helperText:M.rut.text,fullWidth:!0})}),(0,o.jsx)(c.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,o.jsxs)(u.Z,{fullWidth:!0,size:"small",error:M.gender.err,children:[(0,o.jsx)(d.Z,{children:"Genero"}),(0,o.jsxs)(h.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:z.gender,label:"Genero",name:"gender",onChange:W,onFocus:function(){w((0,a.Z)((0,i.Z)({},M),{gender:{err:!1,text:""}}))},children:[(0,o.jsx)(m.Z,{value:"M",children:"Masculino"}),(0,o.jsx)(m.Z,{value:"F",children:"Femenino"}),(0,o.jsx)(m.Z,{value:"O",children:"Otro"})]}),(0,o.jsx)(x.Z,{children:M.gender.text})]})}),(0,o.jsx)(c.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,o.jsx)(k.$,{label:"Fecha de naciemiento",inputFormat:"DD/MM/YYYY",value:z.born,onChange:function(e){var n=S()(e).format("YYYY-MM-DD");T((0,a.Z)((0,i.Z)({},z),{born:n}))},onFocus:q,renderInput:function(e){return(0,o.jsx)(l.Z,(0,a.Z)((0,i.Z)({},e),{size:"small",fullWidth:!0}))}})}),(0,o.jsx)(c.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,o.jsx)(l.Z,{label:"Tel\xe9fono",name:"phone",onChange:W,variant:"outlined",size:"small",onFocus:q,error:M.phone.err,helperText:M.phone.text,fullWidth:!0})}),(0,o.jsx)(c.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,o.jsx)(l.Z,{label:"Mail",name:"mail",onChange:W,variant:"outlined",size:"small",onFocus:q,error:M.mail.err,helperText:M.mail.text,fullWidth:!0})}),(0,o.jsx)(c.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,o.jsxs)(u.Z,{error:M.check.err,children:[(0,o.jsx)(f.Z,{control:(0,o.jsx)(j.Z,{checked:D,onChange:function(e){E(e.target.checked)}}),label:(0,o.jsx)(s.Z,{gutterBottom:!0,sx:{fontSize:"0.7rem"},children:"Declaro ser residente de la comuna de Parral."})}),(0,o.jsx)(x.Z,{children:M.check.text})]})}),(0,o.jsx)(c.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,o.jsxs)(u.Z,{error:M.check2.err,children:[(0,o.jsx)(f.Z,{control:(0,o.jsx)(j.Z,{checked:$,onChange:function(e){R(e.target.checked)}}),label:(0,o.jsx)(s.Z,{gutterBottom:!0,sx:{fontSize:"0.7rem"},children:"Autoriz\xf3 uso exclusivo de informaci\xf3n personal ingresada en el formulario de inscripci\xf3n para de gestiones del programa Joven de la I Municipalidad de Parral."})}),(0,o.jsx)(x.Z,{children:M.check2.text})]})}),(0,o.jsx)(c.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,o.jsx)(Z.Z,{variant:"contained",onClick:function(){!0===I()&&F.create(z.rut,z.name,z.phone,z.mail,z.gender,z.born).then((function(){r(!0)})).catch((function(e){console.log(e),"rut must be unique"==e.errors[0].message&&w((0,a.Z)((0,i.Z)({},M),{rut:{err:!0,text:"El rut ingresado ya fue utilizado"}}))}))},children:"enviar"})})]})}),(0,o.jsx)(g.Z,{open:n,children:(0,o.jsxs)(p.Z,{className:"dialog",children:[(0,o.jsx)(v.Z,{sx:{width:150,height:150},style:{border:"5px solid rgb(142, 139, 139)"},children:(0,o.jsx)(y(),{loader:O,src:"fondo.png",layout:"fill",objectFit:"contain"})}),(0,o.jsx)(s.Z,{gutterBottom:!0,sx:{fontSize:"0.8rem"},children:"Ya eres parte de JOVEN"}),(0,o.jsx)(s.Z,{gutterBottom:!0,sx:{fontSize:"0.6rem"},children:"La Oficina Municipal de la Juventud"}),(0,o.jsx)(s.Z,{gutterBottom:!0,sx:{fontSize:"1.5rem"},children:"Bienvenido"})]})})]})}function N(e){var n=0==e.length;return{err:n,text:!0===n?"Campo requerido":""}}},7992:function(e,n,r){"use strict";r.r(n),r.d(n,{create:function(){return i},findAll:function(){return a},findOneByRut:function(){return o}});var t="https://joven.karmika.cl/";function i(e,n,r,i,a,o){var c={rut:e,name:n,phone:r,mail:i,gender:a,born:o};return new Promise((function(e,n){fetch(t+"persons/create",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((function(r){r.json().then((function(r){0===r.code?n(r.data):e(r.data)}))})).catch((function(e){n(e)}))}))}function a(){return new Promise((function(e,n){fetch(t+"persons/findAll",{method:"GET",body:JSON.stringify(),headers:{"Content-Type":"application/json"}}).then((function(r){r.json().then((function(r){0===r.code?n(r.data):e(r.data)}))})).catch((function(e){n(e)}))}))}function o(e){var n={rut:e};return new Promise((function(e,r){fetch(t+"persons/findOneByRut",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(n){n.json().then((function(n){0===n.code?r(n.data):e(n.data)}))})).catch((function(e){r(e)}))}))}},1313:function(e,n,r){"use strict";function t(e){var n=e.replace(/[.-]/g,"");return n=n.replace(/^(\d{1,2})(\d{3})(\d{3})(\w{1})$/,"$1.$2.$3-$4")}r.r(n),r.d(n,{formatRut:function(){return t}})},1627:function(e){e.exports={bar:"Layout_bar__qCb_m",children:"Layout_children__BdjEv"}}},function(e){e.O(0,[330,510,168,239,774,888,179],(function(){return n=5557,e(e.s=n);var n}));var n=e.O();_N_E=n}]);