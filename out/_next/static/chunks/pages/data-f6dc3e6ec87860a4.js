(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81],{2374:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data",function(){return r(5911)}])},5911:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return A}});var n=r(5893),o=r(7294),a=r(2293),l=r(3156),i=r(5861),c=r(7357);r(1664);function s(e){var t=e.children,r=e.pageTitle,s=(0,o.useState)(!1);s[0],s[1];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Z,{children:(0,n.jsx)(l.Z,{sx:{display:"flex",alignItems:"center",paddingTop:"0.3rem",paddingBottom:"0.3rem"},children:(0,n.jsx)(i.Z,{variant:"h6",component:"div",sx:{flexGrow:1},children:r})})}),(0,n.jsx)(c.Z,{children:t})]})}var u=r(8),d=r(6433),f=r(9630),m=r(1498),p=r(9929),h=r(1265),x=r(1927),b=r(6447),g=r(3321),v=r(3162),O=r(4295),j=(0,h.Z)({palette:{type:"light",primary:{main:"#f0056e"},secondary:{main:"#616161"}}},u._);function y(e){var t=e.gridHeader;return(0,n.jsx)(c.Z,{sx:{p:2},children:(0,n.jsxs)(b.Z,{direction:"row-reverse",justifyContent:"space-between",alignItems:"center",spacing:2,children:[(0,n.jsx)(d.T,{}),(0,n.jsx)(i.Z,{variant:"h5",gutterBottom:!0,component:"div",children:t})]})})}function w(e){var t=e.excelFileName,r=(0,f.l)();return(0,n.jsx)(c.Z,{sx:{p:1},children:(0,n.jsx)(b.Z,{direction:"row-reverse",justifyContent:"space-between",alignItems:"center",spacing:2,children:(0,n.jsxs)(g.Z,{onClick:function(){var e=new O.Workbook,n=e.addWorksheet("sheet"),o=r.current.getAllColumns().map((function(e){return{header:e.headerName,key:e.field,width:S(e.flex)}}));n.columns=o,Array.from(r.current.getVisibleRowModels()).map((function(e){n.addRow(e[1])}));var a=t+".xlsx";e.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"applicationi/xlsx"});(0,v.saveAs)(t,a)}))},children:[(0,n.jsx)(p.Z,{})," excel"]})})})}function C(e){var t=e.rows,r=e.columns,o=e.title,a=e.height;return(0,n.jsx)(c.Z,{sx:{width:"100%",height:a},children:(0,n.jsx)(x.Z,{theme:j,children:(0,n.jsx)(m._,{localeText:T,rows:t,columns:r,components:{Toolbar:y,Footer:w},density:"compact",componentsProps:{toolbar:{showQuickFilter:!0,gridHeader:o},footer:{excelFileName:o}}})})})}function S(e){var t=20*e;return console.log(t),t}var T={noRowsLabel:"Sin filas",errorOverlayDefaultLabel:"Ha ocurrido un error.",toolbarDensity:"Densidad",toolbarDensityLabel:"Densidad",toolbarDensityCompact:"Compacta",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comoda",toolbarColumns:"Columnas",toolbarColumnsLabel:"Seleccionar columnas",toolbarFilters:"Filtros",toolbarFiltersLabel:"Mostrar filtros",toolbarFiltersTooltipHide:"Ocultar filtros",toolbarFiltersTooltipShow:"Mostrar filtros",toolbarFiltersTooltipActive:function(e){return"".concat(e,e>1?" filtros activos":" filtro activo")},toolbarQuickFilterPlaceholder:"Buscar...",toolbarQuickFilterLabel:"Buscar",toolbarExport:"Exportar",toolbarExportLabel:"Exportar",toolbarExportCSV:"Descargar como CSV",columnsPanelTextFieldLabel:"Columna de b\xfasqueda",columnsPanelTextFieldPlaceholder:"T\xedtulo de columna",columnsPanelDragIconLabel:"Reorder columna",columnsPanelShowAllButton:"Mostrar todo",columnsPanelHideAllButton:"Ocultar todo",filterPanelAddFilter:"Agregar filtro",filterPanelDeleteIconLabel:"Borrar",filterPanelOperators:"Operadores",filterPanelOperatorAnd:"Y",filterPanelOperatorOr:"O",filterPanelColumns:"Columnas",filterPanelInputLabel:"Valor",filterPanelInputPlaceholder:"Valor de filtro",filterOperatorContains:"contiene",filterOperatorEquals:"es igual",filterOperatorStartsWith:"comienza con",filterOperatorEndsWith:"termina con",filterOperatorIs:"es",filterOperatorNot:"no es",filterOperatorAfter:"es posterior",filterOperatorOnOrAfter:"es en o posterior",filterOperatorBefore:"es anterior",filterOperatorOnOrBefore:"es en o anterior",filterOperatorIsEmpty:"est\xe1 vac\xedo",filterOperatorIsNotEmpty:"no esta vac\xedo",columnMenuLabel:"Men\xfa",columnMenuShowColumns:"Mostrar columnas",columnMenuFilter:"Filtro",columnMenuHideColumn:"Ocultar",columnMenuUnsort:"Desordenar",columnMenuSortAsc:"Ordenar asc",columnMenuSortDesc:"Ordenar desc",columnHeaderFiltersTooltipActive:function(e){return"".concat(e,e>1?" filtros activos":" filtro activo")},columnHeaderFiltersLabel:"Mostrar filtros",columnHeaderSortIconLabel:"Ordenar",footerRowSelected:function(e){return"".concat(e.toLocaleString(),e>1?" filas seleccionadas":" fila seleccionada")},footerTotalRows:"Filas Totales:",footerTotalVisibleRows:function(e,t){return"".concat(e.toLocaleString()," de ").concat(t.toLocaleString())},actionsCellMore:"m\xe1s"},P=r(381),F=r.n(P),N=r(657),Z=r(7645),E=r(6580),L=r(135),M=r(1425),k=r(7992);function A(){var e=(0,o.useState)([]),t=e[0],r=e[1],a=(0,o.useState)(!0),l=a[0],i=a[1],c=(0,o.useState)(""),u=c[0],d=c[1],f=(0,o.useState)(""),m=f[0],p=f[1],h=(0,o.useState)(!1),x=h[0],b=h[1];(0,o.useEffect)((function(){k.findAll().then((function(e){var t=e.map((function(e){return{id:e.id,rut:e.rut,name:e.name,gender:e.gender,age:_(e.born),phone:e.phone,mail:e.mail}}));r(t)})).catch((function(e){console.log(e)}))}),[]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s,{pageTitle:"Oficina Municipal de la Juventud",children:(0,n.jsx)(C,{title:"Jovenes",rows:t,columns:[{field:"id",headerName:"Id",flex:.5,type:"number"},{field:"rut",headerName:"Rut",flex:1},{field:"name",headerName:"Nombre",flex:2.5},{field:"gender",headerName:"Genero",flex:1},{field:"age",headerName:"Edad",flex:.5,type:"number"},{field:"phone",headerName:"Tel\xe9fono",flex:1},{field:"mail",headerName:"Mail",flex:1.5}],height:"30rem"})}),(0,n.jsxs)(N.Z,{open:l,style:{backgroundColor:"rgb(33,19,13)"},children:[(0,n.jsx)(Z.Z,{children:"Ingrese c\xf3digo de acceso"}),(0,n.jsxs)(E.Z,{children:[(0,n.jsx)("br",{}),(0,n.jsx)(L.Z,{label:"C\xf3digo",name:"pass",error:x,onChange:function(e){d(e.target.value)},type:"password",variant:"outlined",size:"small",onFocus:function(e){d(""),b(!1),p("")},helperText:m,fullWidth:!0})]}),(0,n.jsx)(M.Z,{children:(0,n.jsx)(g.Z,{variant:"contained",onClick:function(){"jvn7890"===u?i(!1):(b(!0),p("C\xf3digo incorrecto"))},children:"validar"})})]})]})}function _(e){return e=F()(e),F()().diff(e,"years")}},7992:function(e,t,r){"use strict";r.r(t),r.d(t,{create:function(){return o},findAll:function(){return a},findOneByRut:function(){return l}});var n="https://joven.karmika.cl/";function o(e,t,r,o,a,l){var i={rut:e,name:t,phone:r,mail:o,gender:a,born:l};return new Promise((function(e,t){fetch(n+"persons/create",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}}).then((function(r){r.json().then((function(r){0===r.code?t(r.data):e(r.data)}))})).catch((function(e){t(e)}))}))}function a(){return new Promise((function(e,t){fetch(n+"persons/findAll",{method:"GET",body:JSON.stringify(),headers:{"Content-Type":"application/json"}}).then((function(r){r.json().then((function(r){0===r.code?t(r.data):e(r.data)}))})).catch((function(e){t(e)}))}))}function l(e){var t={rut:e};return new Promise((function(e,r){fetch(n+"persons/findOneByRut",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(t){t.json().then((function(t){0===t.code?r(t.data):e(t.data)}))})).catch((function(e){r(e)}))}))}}},function(e){e.O(0,[869,330,510,255,774,888,179],(function(){return t=2374,e(e.s=t);var t}));var t=e.O();_N_E=t}]);